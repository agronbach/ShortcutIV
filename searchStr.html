<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145799979-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', 'UA-145799979-1');
  </script>
  <!-- Include pre-loads to reduce/optimize page load time-->
  <link rel="preload" href="https://shortcutIV.com/includes/baseSiteStyling.css" as="style">
  <link rel="preload" href="https://shortcutIV.com/includes/httpsRedirect.js" as="script">
  <link rel="preload" href="https://shortcutIV.com/includes/escapedFooter.js" as="script">
  <link rel="preload" href="https://shortcutIV.com/includes/sortingHat.js" as="script">
  <link rel="preload" href="https://shortcutIV.com/includes/awesomplete.base.css" as="style">
  <link rel="preload" href="https://shortcutIV.com/includes/awesomplete.min.js" as="script">
  <title>ShortcutIV - PvP Search Strings</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Use this tool to create search strings to find the best (or trash the worst) Pokémon for PvP! These strings can be copied and pasted into the Pokémon Go app to help you narrow down your collection to know what to keep and what to send to Professor Willow"/>
  <script async src="https://shortcutIV.com/includes/httpsRedirect.js"></script>
  <!-- Includes for FavIcon support-->
  <link rel="apple-touch-icon" sizes="57x57" href="/favIcon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favIcon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favIcon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favIcon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favIcon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favIcon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favIcon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favIcon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favIcon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/favIcon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favIcon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favIcon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favIcon/favicon-16x16.png">
  <link rel="manifest" href="/favIcon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <!-- End Includes for favIcon support-->
  <link rel="stylesheet" href="https://shortcutIV.com/includes/baseSiteStyling.css">
  <link rel="stylesheet" href="https://shortcutIV.com/includes/awesomplete.base.css">
</head>
<body onload="checkURI()">
  <header>
    <ul class="header">
      <li class="dropdown active">
        <a href="javascript:void(0)" class="dropbtn active">PvP IVs</a>
        <div class="dropdown-content">
          <a href="/">Rankings</a>
          <a href="/searchStr.html" class="active">Search Strings</a>
          <a href="https://routinehub.co/shortcut/1721">iOS Shortcut</a>
        </div>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropbtn">Typing</a>
        <div class="dropdown-content">
          <a href="/typeLookup.html">Chart</a>
          <a href="/typeQuiz.html">Quiz</a>
        </div>
      </li>
      <li class="header" style="float:right"><a href="/about.html">About</a></li>
    </ul>
  </header>
  <section>
    <textarea id="output" rows="10" style="width: 100%; height: 50%;" onclick="autocopy(this)"></textarea>
    <div id="outputSummaryBox"></div>
    <div id="feedbackBox"></div>
  </section>
  <!-- Footer Code Below -->
  <script src="https://shortcutIV.com/includes/escapedFooter.js"></script>
  <script src="https://shortcutIV.com/includes/sortingHat.js"></script>
  <script src="https://shortcutIV.com/includes/awesomplete.min.js"></script>
  <input id="pokeList" placeholder="Final Mon"/>
  <script>
  
  // define Awesomeplete list https://leaverou.github.io/awesomplete/
  var input = document.getElementById("pokeList");
  var selected = undefined;
  
  var awesomplete = new Awesomplete(input, {
    list: [
      {'label': 'Bulbasaur', 'value': '1,118,111,128,2,3'},
      {'label': 'Ivysaur', 'value': '2,151,143,155,1,3'},
      {'label': 'Venusaur', 'value': '3,198,189,190,1,2'},
      {'label': 'Charmander', 'value': '4,116,93,118,5,6'},
      {'label': 'Charmeleon', 'value': '5,158,126,151,4,6'},
      {'label': 'Charizard', 'value': '6,223,173,186,4,5'},
      {'label': 'Squirtle', 'value': '7,94,121,127,8,9'},
      {'label': 'Wartortle', 'value': '8,126,155,153,7,9'},
      {'label': 'Blastoise', 'value': '9,171,207,188,7,8'},
      {'label': 'Caterpie', 'value': '10,55,55,128,11,12'},
      {'label': 'Metapod', 'value': '11,45,80,137,10,12'},
      {'label': 'Butterfree', 'value': '12,167,137,155,10,11'},
      {'label': 'Weedle', 'value': '13,63,50,120,14,15'},
      {'label': 'Kakuna', 'value': '14,46,75,128,13,15'},
      {'label': 'Beedrill', 'value': '15,169,130,163,13,14'},
      {'label': 'Pidgey', 'value': '16,85,73,120,17,18'},
      {'label': 'Pidgeotto', 'value': '17,117,105,160,16,18'},
      {'label': 'Pidgeot', 'value': '18,166,154,195,16,17'},
      {'label': 'Rattata (Alola)', 'value': '19&alola,103,70,102,20&alola'},
      {'label': 'Rattata (Normal)', 'value': '19&!alola,103,70,102,20&!alola'},
      {'label': 'Raticate (Alola)', 'value': '20&alola,135,154,181,19&alola'},
      {'label': 'Raticate (Normal)', 'value': '20&!alola,161,139,146,19&!alola'},
      {'label': 'Spearow', 'value': '21,112,60,120,22'},
      {'label': 'Fearow', 'value': '22,182,133,163,21'},
      {'label': 'Ekans', 'value': '23,110,97,111,24'},
      {'label': 'Arbok', 'value': '24,167,153,155,23'},
      {'label': 'Pikachu', 'value': '25,112,96,111,26&!alola,172&eggsonly'},
      {'label': 'Raichu (Alola)', 'value': '26&alola,201,154,155'},
      {'label': 'Raichu (Normal)', 'value': '26&!alola,193,151,155,25,172&eggsonly'},
      {'label': 'Sandshrew (Alola)', 'value': '27&alola,125,129,137,28&alola'},
      {'label': 'Sandshrew (Normal)', 'value': '27&!alola,126,120,137,28&!alola'},
      {'label': 'Sandslash (Alola)', 'value': '28&alola,177,195,181,27&alola'},
      {'label': 'Sandslash (Normal)', 'value': '28&!alola,182,175,181,27&!alola'},
      {'label': 'Nidoran♀', 'value': '29,86,89,146,30,31'},
      {'label': 'Nidorina', 'value': '30,117,120,172,29,31'},
      {'label': 'Nidoqueen', 'value': '31,180,173,207,29,30'},
      {'label': 'Nidoran♂', 'value': '32,105,76,130,33,34'},
      {'label': 'Nidorino', 'value': '33,137,111,156,32,34'},
      {'label': 'Nidoking', 'value': '34,204,156,191,32,33'},
      {'label': 'Clefairy', 'value': '35,107,108,172,36,173&eggsonly'},
      {'label': 'Clefable', 'value': '36,178,162,216,35,173&eggsonly'},
      {'label': 'Vulpix (Alola)', 'value': '37&alola,96,109,116,38&alola'},
      {'label': 'Vulpix (Normal)', 'value': '37&!alola,96,109,116,38&!alola'},
      {'label': 'Ninetales (Alola)', 'value': '38&alola,170,193,177,37&alola'},
      {'label': 'Ninetales (Normal)', 'value': '38&!alola,169,190,177,37&!alola'},
      {'label': 'Jigglypuff', 'value': '39,80,41,251,40,174&eggsonly'},
      {'label': 'Wigglytuff', 'value': '40,156,90,295,39,174&eggsonly'},
      {'label': 'Zubat', 'value': '41,83,73,120,42,169'},
      {'label': 'Golbat', 'value': '42,161,150,181,41,169'},
      {'label': 'Oddish', 'value': '43,131,112,128,44,45'},
      {'label': 'Gloom', 'value': '44,153,136,155,43,45'},
      {'label': 'Vileplume', 'value': '45,202,167,181,43,44'},
      {'label': 'Paras', 'value': '46,121,99,111,47'},
      {'label': 'Parasect', 'value': '47,165,146,155,46'},
      {'label': 'Venonat', 'value': '48,100,100,155,49'},
      {'label': 'Venomoth', 'value': '49,179,143,172,48'},
      {'label': 'Diglett (Alola)', 'value': '50&alola,108,81,67,51&alola'},
      {'label': 'Diglett (Normal)', 'value': '50&!alola,109,78,67,51&!alola'},
      {'label': 'Dugtrio (Alola)', 'value': '51&alola,201,142,111,50&alola'},
      {'label': 'Dugtrio (Normal)', 'value': '51&!alola,167,136,111,50&!alola'},
      {'label': 'Meowth (Alola)', 'value': '52&alola,99,78,120,53&alola'},
      {'label': 'Meowth (Normal)', 'value': '52&!alola,92,78,120,53&!alola'},
      {'label': 'Persian (Alola)', 'value': '53&alola,158,136,163,52&alola'},
      {'label': 'Persian (Normal)', 'value': '53&!alola,150,136,163,52&!alola'},
      {'label': 'Psyduck', 'value': '54,122,95,137,55'},
      {'label': 'Golduck', 'value': '55,191,162,190,54'},
      {'label': 'Mankey', 'value': '56,148,82,120,57'},
      {'label': 'Primeape', 'value': '57,207,138,163,56'},
      {'label': 'Growlithe', 'value': '58,136,93,146,59'},
      {'label': 'Arcanine', 'value': '59,227,166,207,58'},
      {'label': 'Poliwag', 'value': '60,101,82,120,61,62,186'},
      {'label': 'Poliwhirl', 'value': '61,130,123,163,60,62,186'},
      {'label': 'Poliwrath', 'value': '62,182,184,207,60,61'},
      {'label': 'Abra', 'value': '63,195,82,93,64,65'},
      {'label': 'Kadabra', 'value': '64,232,117,120,63,65'},
      {'label': 'Alakazam', 'value': '65,271,167,146,63,64'},
      {'label': 'Machop', 'value': '66,137,82,172,67,68'},
      {'label': 'Machoke', 'value': '67,177,125,190,66,68'},
      {'label': 'Machamp', 'value': '68,234,159,207,66,67'},
      {'label': 'Bellsprout', 'value': '69,139,61,137,70,71,182'},
      {'label': 'Weepinbell', 'value': '70,172,92,163,69,71,182'},
      {'label': 'Victreebel', 'value': '71,207,135,190,69,70'},
      {'label': 'Tentacool', 'value': '72,97,149,120,73'},
      {'label': 'Tentacruel', 'value': '73,166,209,190,72'},
      {'label': 'Geodude (Alola)', 'value': '74&alola,132,132,120,75&alola,76&alola'},
      {'label': 'Geodude (Normal)', 'value': '74&!alola,132,132,120,75&!alola,76&!alola'},
      {'label': 'Graveler (Alola)', 'value': '75&alola,164,164,146,74&alola,76&alola'},
      {'label': 'Graveler (Normal)', 'value': '75&!alola,164,164,146,74&!alola,76&!alola'},
      {'label': 'Golem (Alola)', 'value': '76&alola,211,198,190,74&alola,75&alola'},
      {'label': 'Golem (Normal)', 'value': '76&!alola,211,198,190,74&!alola,75&!alola'},
      {'label': 'Ponyta', 'value': '77,170,127,137,78'},
      {'label': 'Rapidash', 'value': '78,207,162,163,77'},
      {'label': 'Slowpoke', 'value': '79,109,98,207,80,199'},
      {'label': 'Slowbro', 'value': '80,177,180,216,79'},
      {'label': 'Magnemite', 'value': '81,165,121,93,82,462'},
      {'label': 'Magneton', 'value': '82,223,169,137,81,462'},
      {'label': 'Farfetch\'d', 'value': '83,124,115,141'},
      {'label': 'Doduo', 'value': '84,158,83,111,85'},
      {'label': 'Dodrio', 'value': '85,218,140,155,84'},
      {'label': 'Seel', 'value': '86,85,121,163,87'},
      {'label': 'Dewgong', 'value': '87,139,177,207,86'},
      {'label': 'Grimer (Alola)', 'value': '88&alola,135,90,190,89&alola'},
      {'label': 'Grimer (Normal)', 'value': '88&!alola,135,90,190,89&!alola'},
      {'label': 'Muk (Alola)', 'value': '89&alola,190,172,233,88&alola'},
      {'label': 'Muk (Normal)', 'value': '89&!alola,190,172,233,88&!alola'},
      {'label': 'Shellder', 'value': '90,116,134,102,91'},
      {'label': 'Cloyster', 'value': '91,186,256,137,90'},
      {'label': 'Gastly', 'value': '92,186,67,102,93,94'},
      {'label': 'Haunter', 'value': '93,223,107,128,92,94'},
      {'label': 'Gengar', 'value': '94,261,149,155,92,93'},
      {'label': 'Onix', 'value': '95,85,232,111,208'},
      {'label': 'Drowzee', 'value': '96,89,136,155,97'},
      {'label': 'Hypno', 'value': '97,144,193,198,96'},
      {'label': 'Krabby', 'value': '98,181,124,102,99'},
      {'label': 'Kingler', 'value': '99,240,181,146,98'},
      {'label': 'Voltorb', 'value': '100,109,111,120,101'},
      {'label': 'Electrode', 'value': '101,173,173,155,100'},
      {'label': 'Exeggcute', 'value': '102,107,125,155,103&!alola'},
      {'label': 'Exeggutor (Alola)', 'value': '103&alola,230,153,216'},
      {'label': 'Exeggutor (Normal)', 'value': '103&!alola,233,149,216,102'},
      {'label': 'Cubone', 'value': '104,90,144,137,105&!alola'},
      {'label': 'Marowak (Alola)', 'value': '105&alola,144,186,155'},
      {'label': 'Marowak (Normal)', 'value': '105&!alola,144,186,155,104'},
      {'label': 'Hitmonlee', 'value': '106,224,181,137,236&eggsonly'},
      {'label': 'Hitmonchan', 'value': '107,193,197,137,236&eggsonly'},
      {'label': 'Lickitung', 'value': '108,108,137,207,463'},
      {'label': 'Koffing', 'value': '109,119,141,120,110'},
      {'label': 'Weezing', 'value': '110,174,197,163,109'},
      {'label': 'Rhyhorn', 'value': '111,140,127,190,112,464'},
      {'label': 'Rhydon', 'value': '112,222,171,233,111,464'},
      {'label': 'Chansey', 'value': '113,60,128,487,242,440&eggsonly'},
      {'label': 'Tangela', 'value': '114,183,169,163,465'},
      {'label': 'Kangaskhan', 'value': '115,181,165,233'},
      {'label': 'Horsea', 'value': '116,129,103,102,117,230'},
      {'label': 'Seadra', 'value': '117,187,156,146,116,230'},
      {'label': 'Goldeen', 'value': '118,123,110,128,119'},
      {'label': 'Seaking', 'value': '119,175,147,190,118'},
      {'label': 'Staryu', 'value': '120,137,112,102,121'},
      {'label': 'Starmie', 'value': '121,210,184,155,120'},
      {'label': 'Mr. Mime', 'value': '122,192,205,120,439&eggsonly'},
      {'label': 'Scyther', 'value': '123,218,170,172,212'},
      {'label': 'Jynx', 'value': '124,223,151,163,238&eggsonly'},
      {'label': 'Electabuzz', 'value': '125,198,158,163,239&eggsonly,466'},
      {'label': 'Magmar', 'value': '126,206,154,163,240&eggsonly,467'},
      {'label': 'Pinsir', 'value': '127,238,182,163'},
      {'label': 'Tauros', 'value': '128,198,183,181'},
      {'label': 'Magikarp', 'value': '129,29,85,85,130'},
      {'label': 'Gyarados', 'value': '130,237,186,216,129'},
      {'label': 'Lapras', 'value': '131,165,174,277'},
      {'label': 'Ditto', 'value': '132,91,91,134'},
      {'label': 'Eevee', 'value': '133,104,114,146,134,135,136,196,197,470,471'},
      {'label': 'Vaporeon', 'value': '134,205,161,277,133'},
      {'label': 'Jolteon', 'value': '135,232,182,163,133'},
      {'label': 'Flareon', 'value': '136,246,179,163,133'},
      {'label': 'Porygon', 'value': '137,153,136,163,233,474'},
      {'label': 'Omanyte', 'value': '138,155,153,111,139'},
      {'label': 'Omastar', 'value': '139,207,201,172,138'},
      {'label': 'Kabuto', 'value': '140,148,140,102,141'},
      {'label': 'Kabutops', 'value': '141,220,186,155,140'},
      {'label': 'Aerodactyl', 'value': '142,221,159,190'},
      {'label': 'Snorlax', 'value': '143,190,169,330,446&eggsonly'},
      {'label': 'Articuno', 'value': '144,192,236,207'},
      {'label': 'Zapdos', 'value': '145,253,185,207'},
      {'label': 'Moltres', 'value': '146,251,181,207'},
      {'label': 'Dratini', 'value': '147,119,91,121,148,149'},
      {'label': 'Dragonair', 'value': '148,163,135,156,147,149'},
      {'label': 'Dragonite', 'value': '149,263,198,209,147,148'},
      {'label': 'Mewtwo', 'value': '150,300,182,214'},
      {'label': 'Mew', 'value': '151,210,210,225'},
      {'label': 'Chikorita', 'value': '152,92,122,128,153,154'},
      {'label': 'Bayleef', 'value': '153,122,155,155,152,154'},
      {'label': 'Meganium', 'value': '154,168,202,190,152,153'},
      {'label': 'Cyndaquil', 'value': '155,116,93,118,156,157'},
      {'label': 'Quilava', 'value': '156,158,126,151,155,157'},
      {'label': 'Typhlosion', 'value': '157,223,173,186,155,156'},
      {'label': 'Totodile', 'value': '158,117,109,137,159,160'},
      {'label': 'Croconaw', 'value': '159,150,142,163,158,160'},
      {'label': 'Feraligatr', 'value': '160,205,188,198,158,159'},
      {'label': 'Sentret', 'value': '161,79,73,111,162'},
      {'label': 'Furret', 'value': '162,148,125,198,161'},
      {'label': 'Hoothoot', 'value': '163,67,88,155,164'},
      {'label': 'Noctowl', 'value': '164,145,156,225,163'},
      {'label': 'Ledyba', 'value': '165,72,118,120,166'},
      {'label': 'Ledian', 'value': '166,107,179,146,165'},
      {'label': 'Spinarak', 'value': '167,105,73,120,168'},
      {'label': 'Ariados', 'value': '168,161,124,172,167'},
      {'label': 'Crobat', 'value': '169,194,178,198,41,42'},
      {'label': 'Chinchou', 'value': '170,106,97,181,171'},
      {'label': 'Lanturn', 'value': '171,146,137,268,170'},
      {'label': 'Pichu', 'value': '172&eggsonly,77,53,85,25,26&!alola'},
      {'label': 'Cleffa', 'value': '173&eggsonly,75,79,137,35,36'},
      {'label': 'Igglybuff', 'value': '174&eggsonly,69,32,207,39,40'},
      {'label': 'Togepi', 'value': '175&eggsonly,67,116,111,176,468'},
      {'label': 'Togetic', 'value': '176,139,181,146,175&eggsonly,468'},
      {'label': 'Natu', 'value': '177,134,89,120,178'},
      {'label': 'Xatu', 'value': '178,192,146,163,177'},
      {'label': 'Mareep', 'value': '179,114,79,146,180,181'},
      {'label': 'Flaaffy', 'value': '180,145,109,172,179,181'},
      {'label': 'Ampharos', 'value': '181,211,169,207,179,180'},
      {'label': 'Bellossom', 'value': '182,169,186,181,69,70'},
      {'label': 'Marill', 'value': '183,37,93,172,184,298'},
      {'label': 'Azumarill', 'value': '184,112,152,225,183,298'},
      {'label': 'Sudowoodo', 'value': '185,167,176,172,438&eggsonly'},
      {'label': 'Politoed', 'value': '186,174,179,207,60,61'},
      {'label': 'Hoppip', 'value': '187,67,94,111,188,189'},
      {'label': 'Skiploom', 'value': '188,91,120,146,187,189'},
      {'label': 'Jumpluff', 'value': '189,118,183,181,187,188'},
      {'label': 'Aipom', 'value': '190,136,112,146,424'},
      {'label': 'Sunkern', 'value': '191,55,55,102,192'},
      {'label': 'Sunflora', 'value': '192,185,135,181,191'},
      {'label': 'Yanma', 'value': '193,154,94,163,469'},
      {'label': 'Wooper', 'value': '194,75,66,146,195'},
      {'label': 'Quagsire', 'value': '195,152,143,216,194'},
      {'label': 'Espeon', 'value': '196,261,175,163,133'},
      {'label': 'Umbreon', 'value': '197,126,240,216,133'},
      {'label': 'Murkrow', 'value': '198,175,87,155,430'},
      {'label': 'Slowking', 'value': '199,177,180,216,79,80'},
      {'label': 'Misdreavus', 'value': '200,167,154,155,429'},
      {'label': 'Unown', 'value': '201,136,91,134'},
      {'label': 'Wobbuffet', 'value': '202,60,106,382,360&eggsonly'},
      {'label': 'Girafarig', 'value': '203,182,133,172'},
      {'label': 'Pineco', 'value': '204,108,122,137,205'},
      {'label': 'Forretress', 'value': '205,161,205,181,204'},
      {'label': 'Dunsparce', 'value': '206,131,128,225'},
      {'label': 'Gligar', 'value': '207,143,184,163,472'},
      {'label': 'Steelix', 'value': '208,148,272,181,95'},
      {'label': 'Snubbull', 'value': '209,137,85,155,210'},
      {'label': 'Granbull', 'value': '210,212,131,207,209'},
      {'label': 'Qwilfish', 'value': '211,184,138,163'},
      {'label': 'Scizor', 'value': '212,236,181,172,123'},
      {'label': 'Shuckle', 'value': '213,17,396,85'},
      {'label': 'Heracross', 'value': '214,234,179,190'},
      {'label': 'Sneasel', 'value': '215,189,146,146,461'},
      {'label': 'Teddiursa', 'value': '216,142,93,155,217'},
      {'label': 'Ursaring', 'value': '217,236,144,207,216'},
      {'label': 'Slugma', 'value': '218,118,71,120,219'},
      {'label': 'Magcargo', 'value': '219,139,191,137,218'},
      {'label': 'Swinub', 'value': '220,90,69,137,221,473'},
      {'label': 'Piloswine', 'value': '221,181,138,225,220,473'},
      {'label': 'Corsola', 'value': '222,118,156,146'},
      {'label': 'Remoraid', 'value': '223,127,69,111,224'},
      {'label': 'Octillery', 'value': '224,197,141,181,223'},
      {'label': 'Delibird', 'value': '225,128,90,128'},
      {'label': 'Mantine', 'value': '226,148,226,163,458&eggsonly'},
      {'label': 'Skarmory', 'value': '227,148,226,163'},
      {'label': 'Houndour', 'value': '228,152,83,128,229'},
      {'label': 'Houndoom', 'value': '229,224,144,181,228'},
      {'label': 'Kingdra', 'value': '230,194,194,181,116,117'},
      {'label': 'Phanpy', 'value': '231,107,98,207,232'},
      {'label': 'Donphan', 'value': '232,214,185,207,231'},
      {'label': 'Porygon2', 'value': '233,198,180,198,137,474'},
      {'label': 'Stantler', 'value': '234,192,131,177'},
      {'label': 'Smeargle', 'value': '235,40,83,146'},
      {'label': 'Tyrogue', 'value': '236&eggsonly,64,64,111,237,106,107'},
      {'label': 'Hitmontop', 'value': '237,173,207,137,236&eggsonly'},
      {'label': 'Smoochum', 'value': '238&eggsonly,153,91,128,124'},
      {'label': 'Elekid', 'value': '239&eggsonly,135,101,128,466'},
      {'label': 'Magby', 'value': '240&eggsonly,151,99,128,467'},
      {'label': 'Miltank', 'value': '241,157,193,216'},
      {'label': 'Blissey', 'value': '242,129,169,496,113,440&eggsonly'},
      {'label': 'Raikou', 'value': '243,241,195,207'},
      {'label': 'Entei', 'value': '244,235,171,251'},
      {'label': 'Suicune', 'value': '245,180,235,225'},
      {'label': 'Larvitar', 'value': '246,115,93,137,247,248'},
      {'label': 'Pupitar', 'value': '247,155,133,172,246,248'},
      {'label': 'Tyranitar', 'value': '248,251,207,225,246,247'},
      {'label': 'Lugia', 'value': '249,193,310,235'},
      {'label': 'Ho-Oh', 'value': '250,239,244,214'},
      {'label': 'Celebi', 'value': '251,210,210,225'},
      {'label': 'Treecko', 'value': '252,124,94,120,253,254'},
      {'label': 'Grovyle', 'value': '253,172,120,137,252,254'},
      {'label': 'Sceptile', 'value': '254,223,169,172,252,253'},
      {'label': 'Torchic', 'value': '255,130,87,128,256,257'},
      {'label': 'Combusken', 'value': '256,163,115,155,255,257'},
      {'label': 'Blaziken', 'value': '257,240,141,190,255,256'},
      {'label': 'Mudkip', 'value': '258,126,93,137,259,260'},
      {'label': 'Marshtomp', 'value': '259,156,133,172,258,260'},
      {'label': 'Swampert', 'value': '260,208,175,225,258,259'},
      {'label': 'Poochyena', 'value': '261,96,61,111,262'},
      {'label': 'Mightyena', 'value': '262,171,132,172,261'},
      {'label': 'Zigzagoon', 'value': '263,58,80,116,264'},
      {'label': 'Linoone', 'value': '264,142,128,186,263'},
      {'label': 'Wurmple', 'value': '265,75,59,128,266,268,267,269'},
      {'label': 'Silcoon', 'value': '266,60,77,137,265,267'},
      {'label': 'Beautifly', 'value': '267,189,98,155,265,266'},
      {'label': 'Cascoon', 'value': '268,60,77,137,265,269'},
      {'label': 'Dustox', 'value': '269,98,162,155,265,268'},
      {'label': 'Lotad', 'value': '270,71,77,120,271,272'},
      {'label': 'Lombre', 'value': '271,112,119,155,270,272'},
      {'label': 'Ludicolo', 'value': '272,173,176,190,270,271'},
      {'label': 'Seedot', 'value': '273,71,77,120,274,275'},
      {'label': 'Nuzleaf', 'value': '274,134,78,172,273,275'},
      {'label': 'Shiftry', 'value': '275,200,121,207,273,274'},
      {'label': 'Taillow', 'value': '276,106,61,120,277'},
      {'label': 'Swellow', 'value': '277,185,124,155,276'},
      {'label': 'Wingull', 'value': '278,106,61,120,279'},
      {'label': 'Pelipper', 'value': '279,175,174,155,278'},
      {'label': 'Ralts', 'value': '280,79,59,99,281,282,475'},
      {'label': 'Kirlia', 'value': '281,117,90,116,280,282,475'},
      {'label': 'Gardevoir', 'value': '282,237,195,169,280,281'},
      {'label': 'Surskit', 'value': '283,93,87,120,284'},
      {'label': 'Masquerain', 'value': '284,192,150,172,283'},
      {'label': 'Shroomish', 'value': '285,74,110,155,286'},
      {'label': 'Breloom', 'value': '286,241,144,155,285'},
      {'label': 'Slakoth', 'value': '287,104,92,155,288,289'},
      {'label': 'Vigoroth', 'value': '288,159,145,190,287,289'},
      {'label': 'Slaking', 'value': '289,290,166,284,287,288'},
      {'label': 'Nincada', 'value': '290,80,126,104,291'},
      {'label': 'Ninjask', 'value': '291,199,112,156,290'},
      {'label': 'Shedinja', 'value': '292,153,73,1'},
      {'label': 'Whismur', 'value': '293,92,42,162,294,295'},
      {'label': 'Loudred', 'value': '294,134,81,197,293,295'},
      {'label': 'Exploud', 'value': '295,179,137,232,293,294'},
      {'label': 'Makuhita', 'value': '296,99,54,176,297'},
      {'label': 'Hariyama', 'value': '297,209,114,302,296'},
      {'label': 'Azurill', 'value': '298,36,71,137,183,184'},
      {'label': 'Nosepass', 'value': '299,82,215,102,476'},
      {'label': 'Skitty', 'value': '300,84,79,137,301'},
      {'label': 'Delcatty', 'value': '301,132,127,172,300'},
      {'label': 'Sableye', 'value': '302,141,136,137'},
      {'label': 'Mawile', 'value': '303,155,141,137'},
      {'label': 'Aron', 'value': '304,121,141,137,305,306'},
      {'label': 'Lairon', 'value': '305,158,198,155,304,306'},
      {'label': 'Aggron', 'value': '306,198,257,172,304,305'},
      {'label': 'Meditite', 'value': '307,78,107,102,308'},
      {'label': 'Medicham', 'value': '308,121,152,155,307'},
      {'label': 'Electrike', 'value': '309,123,78,120,310'},
      {'label': 'Manectric', 'value': '310,215,127,172,309'},
      {'label': 'Plusle', 'value': '311,167,129,155'},
      {'label': 'Minun', 'value': '312,147,150,155'},
      {'label': 'Volbeat', 'value': '313,143,166,163'},
      {'label': 'Illumise', 'value': '314,143,166,163'},
      {'label': 'Roselia', 'value': '315,186,131,137,406&eggsonly,407'},
      {'label': 'Gulpin', 'value': '316,80,99,172,317'},
      {'label': 'Swalot', 'value': '317,140,159,225,316'},
      {'label': 'Carvanha', 'value': '318,171,39,128,319'},
      {'label': 'Sharpedo', 'value': '319,243,83,172,318'},
      {'label': 'Wailmer', 'value': '320,136,68,277,321'},
      {'label': 'Wailord', 'value': '321,175,87,347,320'},
      {'label': 'Numel', 'value': '322,119,79,155,323'},
      {'label': 'Camerupt', 'value': '323,194,136,172,322'},
      {'label': 'Torkoal', 'value': '324,151,203,172'},
      {'label': 'Spoink', 'value': '325,125,122,155,326'},
      {'label': 'Grumpig', 'value': '326,171,188,190,325'},
      {'label': 'Spinda', 'value': '327,116,116,155'},
      {'label': 'Trapinch', 'value': '328,162,78,128,329,330'},
      {'label': 'Vibrava', 'value': '329,134,99,137,328,330'},
      {'label': 'Flygon', 'value': '330,205,168,190,328,329'},
      {'label': 'Cacnea', 'value': '331,156,74,137,332'},
      {'label': 'Cacturne', 'value': '332,221,115,172,331'},
      {'label': 'Swablu', 'value': '333,76,132,128,334'},
      {'label': 'Altaria', 'value': '334,141,201,181,333'},
      {'label': 'Zangoose', 'value': '335,222,124,177'},
      {'label': 'Seviper', 'value': '336,196,118,177'},
      {'label': 'Lunatone', 'value': '337,178,153,207'},
      {'label': 'Solrock', 'value': '338,178,153,207'},
      {'label': 'Barboach', 'value': '339,93,82,137,340'},
      {'label': 'Whiscash', 'value': '340,151,141,242,339'},
      {'label': 'Corphish', 'value': '341,141,99,125,342'},
      {'label': 'Crawdaunt', 'value': '342,224,142,160,341'},
      {'label': 'Baltoy', 'value': '343,77,124,120,344'},
      {'label': 'Claydol', 'value': '344,140,229,155,343'},
      {'label': 'Lileep', 'value': '345,105,150,165,346'},
      {'label': 'Cradily', 'value': '346,152,194,200,345'},
      {'label': 'Anorith', 'value': '347,176,100,128,348'},
      {'label': 'Armaldo', 'value': '348,222,174,181,347'},
      {'label': 'Feebas', 'value': '349,29,85,85,350'},
      {'label': 'Milotic', 'value': '350,192,219,216,349'},
      {'label': 'Castform', 'value': '351,139,139,172'},
      {'label': 'Kecleon', 'value': '352,161,189,155'},
      {'label': 'Shuppet', 'value': '353,138,65,127,354'},
      {'label': 'Banette', 'value': '354,218,126,162,353'},
      {'label': 'Duskull', 'value': '355,70,162,85,356,477'},
      {'label': 'Dusclops', 'value': '356,124,234,120,355,477'},
      {'label': 'Tropius', 'value': '357,136,163,223'},
      {'label': 'Chimecho', 'value': '358,175,170,181,433&eggsonly'},
      {'label': 'Absol', 'value': '359,246,120,163'},
      {'label': 'Wynaut', 'value': '360&eggsonly,41,86,216,202'},
      {'label': 'Snorunt', 'value': '361,95,95,137,362,478'},
      {'label': 'Glalie', 'value': '362,162,162,190,361'},
      {'label': 'Spheal', 'value': '363,95,90,172,364,365'},
      {'label': 'Sealeo', 'value': '364,137,132,207,363,365'},
      {'label': 'Walrein', 'value': '365,182,176,242,363,364'},
      {'label': 'Clamperl', 'value': '366,133,135,111,367,368'},
      {'label': 'Huntail', 'value': '367,197,179,146,366'},
      {'label': 'Gorebyss', 'value': '368,211,179,146,366'},
      {'label': 'Relicanth', 'value': '369,162,203,225'},
      {'label': 'Luvdisc', 'value': '370,81,128,125'},
      {'label': 'Bagon', 'value': '371,134,93,128,372,373'},
      {'label': 'Shelgon', 'value': '372,172,155,163,371,373'},
      {'label': 'Salamence', 'value': '373,277,168,216,371,372'},
      {'label': 'Beldum', 'value': '374,96,132,120,375,376'},
      {'label': 'Metang', 'value': '375,138,176,155,374,376'},
      {'label': 'Metagross', 'value': '376,257,228,190,374,375'},
      {'label': 'Regirock', 'value': '377,179,309,190'},
      {'label': 'Regice', 'value': '378,179,309,190'},
      {'label': 'Registeel', 'value': '379,143,285,190'},
      {'label': 'Latias', 'value': '380,228,246,190'},
      {'label': 'Latios', 'value': '381,268,212,190'},
      {'label': 'Kyogre', 'value': '382,270,228,205'},
      {'label': 'Groudon', 'value': '383,270,228,205'},
      {'label': 'Rayquaza', 'value': '384,284,170,213'},
      {'label': 'Jirachi', 'value': '385,210,210,225'},
      {'label': 'Deoxys (Attack)', 'value': '386,414,46,137'},
      {'label': 'Deoxys (Defense)', 'value': '386,144,330,137'},
      {'label': 'Deoxys (Normal)', 'value': '386,345,115,137'},
      {'label': 'Deoxys (Speed)', 'value': '386,230,218,137'},
      {'label': 'Turtwig', 'value': '387,119,110,146,388,389'},
      {'label': 'Grotle', 'value': '388,157,143,181,387,389'},
      {'label': 'Torterra', 'value': '389,202,188,216,387,388'},
      {'label': 'Chimchar', 'value': '390,113,86,127,391,392'},
      {'label': 'Monferno', 'value': '391,158,105,162,390,392'},
      {'label': 'Infernape', 'value': '392,222,151,183,390,391'},
      {'label': 'Piplup', 'value': '393,112,102,142,394,395'},
      {'label': 'Prinplup', 'value': '394,150,139,162,393,395'},
      {'label': 'Empoleon', 'value': '395,210,186,197,393,394'},
      {'label': 'Starly', 'value': '396,101,58,120,397,398'},
      {'label': 'Staravia', 'value': '397,142,94,146,396,398'},
      {'label': 'Staraptor', 'value': '398,234,140,198,396,397'},
      {'label': 'Bidoof', 'value': '399,80,73,153,400'},
      {'label': 'Bibarel', 'value': '400,162,119,188,399'},
      {'label': 'Kricketot', 'value': '401,45,74,114,402'},
      {'label': 'Kricketune', 'value': '402,160,100,184,401'},
      {'label': 'Shinx', 'value': '403,117,64,128,404,405'},
      {'label': 'Luxio', 'value': '404,159,95,155,403,405'},
      {'label': 'Luxray', 'value': '405,232,156,190,403,404'},
      {'label': 'Budew', 'value': '406&eggsonly,91,109,120,315,407'},
      {'label': 'Roserade', 'value': '407,243,185,155,315,406&eggsonly'},
      {'label': 'Cranidos', 'value': '408,218,71,167,409'},
      {'label': 'Rampardos', 'value': '409,295,109,219,408'},
      {'label': 'Shieldon', 'value': '410,76,195,102,411'},
      {'label': 'Bastiodon', 'value': '411,94,286,155,410'},
      {'label': 'Burmy (Plant)', 'value': '412,53,83,120,413,414'},
      {'label': 'Burmy (Sandy)', 'value': '412,53,83,120,413,414'},
      {'label': 'Burmy (Trash)', 'value': '412,53,83,120,413,414'},
      {'label': 'Wormadam (Plant)', 'value': '413,141,180,155,412'},
      {'label': 'Wormadam (Sandy)', 'value': '413,141,180,155,412'},
      {'label': 'Wormadam (Trash)', 'value': '413,127,175,155,412'},
      {'label': 'Mothim', 'value': '414,185,98,172,412'},
      {'label': 'Combee', 'value': '415,59,83,102,416'},
      {'label': 'Vespiquen', 'value': '416,149,190,172,415'},
      {'label': 'Pachirisu', 'value': '417,94,172,155'},
      {'label': 'Buizel', 'value': '418,132,67,146,419'},
      {'label': 'Floatzel', 'value': '419,221,114,198,418'},
      {'label': 'Cherubi', 'value': '420,108,92,128,421'},
      {'label': 'Cherrim', 'value': '421,170,153,172,420'},
      {'label': 'Shellos', 'value': '422,103,105,183,423'},
      {'label': 'Gastrodon', 'value': '423,169,143,244,422'},
      {'label': 'Ambipom', 'value': '424,205,143,181,190'},
      {'label': 'Drifloon', 'value': '425,117,80,207,426'},
      {'label': 'Drifblim', 'value': '426,180,102,312,425'},
      {'label': 'Buneary', 'value': '427,130,105,146,428'},
      {'label': 'Lopunny', 'value': '428,156,194,163,427'},
      {'label': 'Mismagius', 'value': '429,211,187,155,200'},
      {'label': 'Honchkrow', 'value': '430,243,103,225,198'},
      {'label': 'Glameow', 'value': '431,109,82,135,432'},
      {'label': 'Purugly', 'value': '432,172,133,174,431'},
      {'label': 'Chingling', 'value': '433&eggsonly,114,94,128,358'},
      {'label': 'Stunky', 'value': '434,121,90,160,435'},
      {'label': 'Skuntank', 'value': '435,184,132,230,434'},
      {'label': 'Bronzor', 'value': '436,43,154,149,437'},
      {'label': 'Bronzong', 'value': '437,161,213,167,436'},
      {'label': 'Bonsly', 'value': '438&eggsonly,124,133,137,185'},
      {'label': 'Mime (Jr)', 'value': '439&eggsonly,125,142,85,122'},
      {'label': 'Happiny', 'value': '440&eggsonly,25,77,225,113,242'},
      {'label': 'Chatot', 'value': '441,183,91,183'},
      {'label': 'Spiritomb', 'value': '442,169,199,137'},
      {'label': 'Gible', 'value': '443,124,84,151,444,445'},
      {'label': 'Gabite', 'value': '444,172,125,169,443,445'},
      {'label': 'Garchomp', 'value': '445,261,193,239,443,444'},
      {'label': 'Munchlax', 'value': '446&eggsonly,137,117,286,143'},
      {'label': 'Riolu', 'value': '447&eggsonly,127,78,120,448'},
      {'label': 'Lucario', 'value': '448,236,144,172,447&eggsonly'},
      {'label': 'Hippopotas', 'value': '449,124,118,169,450'},
      {'label': 'Hippowdon', 'value': '450,201,191,239,449'},
      {'label': 'Skorupi', 'value': '451,93,151,120,452'},
      {'label': 'Drapion', 'value': '452,180,202,172,451'},
      {'label': 'Croagunk', 'value': '453,116,76,134,454'},
      {'label': 'Toxicroak', 'value': '454,211,133,195,453'},
      {'label': 'Carnivine', 'value': '455,187,136,179'},
      {'label': 'Finneon', 'value': '456,96,116,135,457'},
      {'label': 'Lumineon', 'value': '457,142,170,170,456'},
      {'label': 'Mantyke', 'value': '458&eggsonly,105,179,128,226'},
      {'label': 'Snover', 'value': '459,115,105,155,460'},
      {'label': 'Abomasnow', 'value': '460,178,158,207,459'},
      {'label': 'Weavile', 'value': '461,243,171,172,215'},
      {'label': 'Magnezone', 'value': '462,238,205,172,81,82'},
      {'label': 'Lickilicky', 'value': '463,161,181,242,108'},
      {'label': 'Rhyperior', 'value': '464,241,190,251,111,112'},
      {'label': 'Tangrowth', 'value': '465,207,184,225,114'},
      {'label': 'Electivire', 'value': '466,249,163,181,125,239&eggsonly'},
      {'label': 'Magmortar', 'value': '467,247,172,181,126,240&eggsonly'},
      {'label': 'Togekiss', 'value': '468,225,217,198,176,175&eggsonly'},
      {'label': 'Yanmega', 'value': '469,231,156,200,193'},
      {'label': 'Leafeon', 'value': '470,216,219,163,133'},
      {'label': 'Glaceon', 'value': '471,238,205,163,133'},
      {'label': 'Gliscor', 'value': '472,185,222,181,207'},
      {'label': 'Mamoswine', 'value': '473,247,146,242,220,221'},
      {'label': 'Porygon Z', 'value': '474,264,150,198,137,233'},
      {'label': 'Gallade', 'value': '475,237,195,169,280,281'},
      {'label': 'Probopass', 'value': '476,135,275,155,299'},
      {'label': 'Dusknoir', 'value': '477,180,254,128,355,356'},
      {'label': 'Froslass', 'value': '478,171,150,172,361'},
      {'label': 'Rotom (Fan)', 'value': '479,204,219,137'},
      {'label': 'Rotom (Frost)', 'value': '479,204,219,137'},
      {'label': 'Rotom (Heat)', 'value': '479,204,219,137'},
      {'label': 'Rotom (Mow)', 'value': '479,204,219,137'},
      {'label': 'Rotom (Normal)', 'value': '479,185,159,137'},
      {'label': 'Rotom (Wash)', 'value': '479,204,219,137'},
      {'label': 'Uxie', 'value': '480,156,270,181'},
      {'label': 'Mesprit', 'value': '481,212,212,190'},
      {'label': 'Azelf', 'value': '482,270,151,181'},
      {'label': 'Dialga', 'value': '483,275,211,205'},
      {'label': 'Palkia', 'value': '484,280,215,189'},
      {'label': 'Heatran', 'value': '485,251,213,209'},
      {'label': 'Regigigas', 'value': '486,287,210,221'},
      {'label': 'Giratina (Altered)', 'value': '487,187,225,284'},
      {'label': 'Giratina (Origin)', 'value': '487,225,187,284'},
      {'label': 'Cresselia', 'value': '488,152,258,260'},
      {'label': 'Phione', 'value': '489,162,162,190'},
      {'label': 'Manaphy', 'value': '490,210,210,225'},
      {'label': 'Darkrai', 'value': '491,285,198,172'},
      {'label': 'Shaymin (Land)', 'value': '492,210,210,225'},
      {'label': 'Shaymin (Sky)', 'value': '492,261,166,225'},
      {'label': 'Arceus', 'value': '493,238,238,237'},
      {'label': 'Meltan', 'value': '808,118,99,130,809'},
      {'label': 'Melmetal', 'value': '809,226,190,264,808'}
    ],
  	// insert label instead of value into the input.
  	replace: function(suggestion) {
  		this.input.value = suggestion.label;
  		selected = suggestion.label;
  		start()
  	}
  });
  // end Awesomeplete definitions https://leaverou.github.io/awesomplete/
  
  var cpm = [0.094, 0.1351374318, 0.16639787, 0.192650919, 0.21573247, 0.2365726613, 0.25572005, 0.2735303812, 0.29024988, 0.3060573775, 0.3210876, 0.3354450362, 0.34921268, 0.3624577511, 0.3752356, 0.387592416, 0.39956728, 0.4111935514, 0.4225, 0.4329264091, 0.44310755, 0.4530599591, 0.4627984, 0.472336093, 0.48168495, 0.4908558003, 0.49985844, 0.508701765, 0.51739395, 0.5259425113, 0.5343543, 0.5426357375, 0.5507927, 0.5588305862, 0.5667545, 0.5745691333, 0.5822789, 0.5898879072, 0.5974, 0.6048236651, 0.6121573, 0.6194041216, 0.6265671, 0.6336491432, 0.64065295, 0.6475809666, 0.65443563, 0.6612192524, 0.667934, 0.6745818959, 0.6811649, 0.6876849038, 0.69414365, 0.70054287, 0.7068842, 0.7131691091, 0.7193991, 0.7255756136, 0.7317, 0.7347410093, 0.7377695, 0.7407855938, 0.74378943, 0.7467812109, 0.74976104, 0.7527290867, 0.7556855, 0.7586303683, 0.76156384, 0.7644860647, 0.76739717, 0.7702972656, 0.7731865, 0.7760649616, 0.77893275, 0.7817900548, 0.784637, 0.7874736075, 0.7903];

  function checkURI() {
    var URL = window.location.href.split("?")[1];
    //URL = "mon=Gyarados&r=169&cp=2500&o=00000&l=ko";
    if (URL)
    {
      URL = decodeURI(URL);
      //console.log("Read URL as: "+URL);
      var values = URL.split("&");
      console.log("Values array as: "+JSON.stringify(values));
      for (var i=0; i<values.length; i++)
      {
        switch (values[i].split("=")[0]) {
          case "mon":
            selected = values[i].split("=")[1];
            break;
          case "r":
            document.getElementById('limit').value = values[i].split("=")[1];
            break;
          case "cp":
            document.getElementById('league').value = values[i].split("=")[1];
            break;
          case "o":
            var options = (''+values[i].split("=")[1]);
            
            if (options[0] == 1) { document.getElementById('trash').checked = true;
            } else { document.getElementById('trash').checked = false; }
            
            if (options[1] == 1) { document.getElementById('hundo').checked = true;
            } else { document.getElementById('hundo').checked = false; }
            
            if (options[2] == 1) { document.getElementById('hptrash').checked = true;
            } else { document.getElementById('hptrash').checked = false; }
            
            if (options[3] == 1) { document.getElementById('base').checked = true;
            } else { document.getElementById('base').checked = false; }
            
            if (options[4] == 1) { document.getElementById('baby').checked = true;
            } else { document.getElementById('baby').checked = false; }
            break;
          case "l":
            var lang = document.getElementById('lang');
            var languages = lang.options.length;
            for (var j=0; j<languages; j++) {
              if (lang.options[j].value.split(",")[0] == values[i].split("=")[1]) {
                lang.options[j].selected = true;
                break;
              }
            }
            break;
        }
      }
      start();
      return true;
    }
    else
    {
      console.log("No inputs detected, awaiting user input");
      return false;
    }
  }
  function start() {
    
    // exit if we haven't selected a mon yet
    if ((awesomplete.suggestions === undefined) && (selected === undefined)) {
      console.log("No pokemon found by start(), received:'"+awesomplete.suggestions+"' and '"+selected+"'");
      return;
    } else {
      if (selected === undefined) {
        console.log("Invalid input detected:'"+awesomplete.suggestions+"' and '"+selected+"'");
        return;
      } else {
        console.log("start: Found mon in both:'"+awesomplete.suggestions+"' and '"+selected+"'");
      }
    }
    
    var mon = '';
    // need to ensure we have the right mon selected
    if (awesomplete.suggestions !== undefined) {
      for (var i=0; i<awesomplete.suggestions.length; i++)
      {
        if (selected == awesomplete.suggestions[i].label)
        {
          //console.log("mon set to selected == awesomplete.suggestions["+i+"].label:"+awesomplete.suggestions[i].label)
          mon = awesomplete.suggestions[i].value;
        }
      }
    } else {
      // need to ensure we have the right mon selected
      var listLen = awesomplete.options.list.length;
      for (var i=0; i<listLen; i++)
      {
        if (selected == awesomplete.options.list[i].label)
        {
          //console.log("mon set to selected == awesomplete.suggestions["+i+"].label:"+awesomplete.suggestions[i].label)
          mon = awesomplete.options.list[i].value;
        }
      }
    }

    var value = mon.split(',');
    //console.log("value set to:"+JSON.stringify(value));
    var output = document.getElementById('output');
    //console.log("start(): 'mon' received as:"+JSON.stringify(mon));

    var base = document.getElementById('base').checked;
    if (base) {
      var baseID = 10000;
      base = value[0];
      baseID = value[0].split("&")[0];
      //console.log("Using base of:"+base);
      //console.log("Using baseID of:"+baseID);
      
      for (var i=4; i<value.length; i++)
      {
        if (value[i].indexOf("&") > 0) {
          //console.log("Found an '&' in an evolved form ("+value[i]+")!");
          
          // skip baby forms unless checked (baby=true)
          if ((value[i].split("&")[1] === "eggsonly") && (!baby)) continue;
          if (baseID > value[i].split("&")[0]) {
            base = value[i];
            baseID = value[i].split("&")[0]
          }
        }
        // find base evolution
        if (baseID/1 > value[i]/1) {
          base = value[i];
          baseID = value[i];
          //console.log("Updated base evo to "+base);
        }
      }
      //console.log("Found base evo to be "+base);
    } else {
      // if we aren't using base evo, use the select mon's ID
      base = value[0];
    }
    
    var baby = document.getElementById('baby').checked;
    if (baby)
    {
      baby = value[0];
      for (var i=4; i<value.length; i++)
      {
        if (value[i].indexOf("&") > 0) {
          if (value[i].split("&")[1] === "eggsonly") {
            //console.log("Found baby form! "+value[i]);
            base = value[i];
            break;
          }
        }
      }
      //console.log("Overwrote base evo with baby form:"+base);
    }
    
    // get base stats of whatever form we are outputting string for
    var baseatk, basedef, basesta, basemon = 0;
    
    //console.log("Can we print awesomeplete's list?"+JSON.stringify(awesomplete.suggestions));
    
    for (i = 0; i < awesomplete.options.list.length; i++) {
      awesomplete.options.list[i].value.split(',')[0];
      if (base === awesomplete.options.list[i].value.split(',')[0]) {
        //console.log("Found base("+base+") at i:("+i+")");
        basemon = awesomplete.options.list[i].label;
        baseatk = awesomplete.options.list[i].value.split(',')[1];
        basedef = awesomplete.options.list[i].value.split(',')[2];
        basesta = awesomplete.options.list[i].value.split(',')[3];
      }
    }

    var league = document.getElementById('league').value;
    var limit = document.getElementById('limit').value;
    var trash = document.getElementById('trash').checked;
    var hundo = document.getElementById('hundo').checked;
    var hptrash = document.getElementById('hptrash').checked;
    var lang = document.getElementById('lang').value.split(',');
    var cpstr = lang[1], hpstr = lang[2];
    //var ranks = calculate(parseInt(value[1]), parseInt(value[2]), parseInt(value[3]), league);
    outputStr(calculate(parseInt(value[1]), parseInt(value[2]), parseInt(value[3]), league), base, baseatk, basedef, basesta, limit, trash, hundo, hptrash, league, output, lang[1], lang[2]);
    
    // let the user know what we just output
    var message = "";
    if (trash) {
      if (hundo) {
        message = "String trashes all "+basemon+" except Top "+limit+ " PvP "+selected;
      } else {
        message = "String trashes all "+basemon+" except perfect IV (15/15/15) and Top "+limit+ " PvP "+selected;
      }
    } else {
      message = "String finds Top "+limit+ " "+basemon+", for PvP "+selected;
    }
    //console.log(message);
    document.getElementById('outputSummaryBox').innerHTML = "<p>"+message+"</p>";
    
    // build binary encoding of settings
    var binary = "";
    if (trash) { binary = "1";} else { binary = "0";}
    if (hundo) { binary += "1";} else { binary += "0";}
    if (hptrash) { binary += "1";} else { binary += "0";}
    if (document.getElementById('base').checked) { binary += "1";} else { binary += "0";}
    if (document.getElementById('baby').checked) { binary += "1";} else { binary += "0";}
    //console.log("Binary:"+binary);
    
    // update the URL with search parameters
    var uri = window.location.href.split("?")[0];
    uri = encodeURI(uri + "?mon="+selected+"&r="+limit+"&cp="+league+"&o="+binary+"&l="+document.getElementById('lang').value.split(',')[0]);
    //console.log("URI:"+uri);
    var newTitle = "ShortcutIV - PvP Search Strings - " + "Rank " + limit + " " + selected + " ("+league+")";
    window.history.pushState(null, newTitle, uri);

    return true;
  }
  
  function outputStr(ranks, id, baseatk, basedef, basesta, limit, trash, hundo, hptrash, league, output, cpstr, hpstr) {
    //console.log("outputStr (except ranks, output): id:"+id+", baseatk:"+baseatk+", basedef:"+basedef+", basesta:"+basesta+", limit:"+limit+", trash:"+trash+", hundo:"+hundo+", league:"+league+", cpstr:"+cpstr+", hpstr:"+hpstr);
    //console.log("outputStr ranks="+JSON.stringify(ranks));
    
    var rKeys = Object.keys(ranks);
    var rLength = rKeys.length;
    var singleStar = true;
    var dualStar = true;
    var triStar = true;
    var firstStarVal = ranks[rKeys[0]].IVs.star;
    var secondStarVal = undefined;
    var thirdStarVal = undefined;
    var no0star = true;
    var no1star = true;
    var no2star = true;
    var no3star = true;
    var no4star = true;
    var no5star = true;

    // see if we can output only one appraisal star in string (if all match)
    for (var i=1; ((i<rLength) && (i<limit)); i++) {
      
      // track which star appraisal values are present within limit
      if ((no0star) && (ranks[rKeys[i]].IVs.star === "0*")) { no0star = false; }
        else { if ((no1star) && (ranks[rKeys[i]].IVs.star === "1*")) { no1star = false; }
        else { if ((no2star) && (ranks[rKeys[i]].IVs.star === "2*")) { no2star = false; }
        else { if ((no3star) && (ranks[rKeys[i]].IVs.star === "3*")) { no3star = false; }
        else { if ((no4star) && (ranks[rKeys[i]].IVs.star === "4*")) { no4star = false; }
      }}}}
      
      if (firstStarVal == ranks[rKeys[i]].IVs.star) { continue; } else {
        if (secondStarVal === undefined) {
          // store first mismatch position in singleStar, init secondStarVal
          singleStar = i;
          secondStarVal = ranks[rKeys[i]].IVs.star;
          
          // knowing that ranks[rKeys[i]].IVs.star != firstStarVal, check if == secondStarVal
          } else {
            if (secondStarVal == ranks[rKeys[i]].IVs.star) { continue; } else {
              if (thirdStarVal === undefined) {
                // store first mismatch position in dualStar, init thirdStarVal
                dualStar = i;
                thirdStarVal = ranks[rKeys[i]].IVs.star;
                
              // knowing that ranks[rKeys[i]].IVs.star != firstStarVal and != secondStarVal, check if == thirdStarVal
              } else {
                if (thirdStarVal == ranks[rKeys[i]].IVs.star) { continue; } else {
                  // store first mismatch position in triStar
                  triStar = i;
                }
              }
            }
          }
      }
    }
    
    console.log("Set values no0star:"+no0star+" no1star:"+no1star+" no2star:"+no2star+" no3star:"+no3star+" no4star:"+no4star);

    // let the user know to adjust their query
    if (!trash)
    {
      var message = '';
      if (triStar !== true) {
        // there are four different appraisals within limit
        message = "Top "+triStar+ " ranks are all "+thirdStarVal+", "+secondStarVal+", "+firstStarVal+", appraisals";
        document.getElementById('feedbackBox').innerHTML = "<p><i>"+message+"</i></p>";
      } else {
        // there are three different appraisals within limit
        if (dualStar !== true) {
        message = "Top "+dualStar+ " ranks are all "+secondStarVal+", "+firstStarVal+", appraisals";
        document.getElementById('feedbackBox').innerHTML = "<p><i>"+message+"</i></p>";
        } else {
          // there are two different appraisals within limit
          if (singleStar !== true) {
            message = "Top "+singleStar+ " ranks are all "+firstStarVal+" appraisals";
            document.getElementById('feedbackBox').innerHTML = "<p><i>"+message+"</i></p>";
            } else {
              // there are more than four different appraisals within limit
              document.getElementById('feedbackBox').innerHTML = "";
            }
        }
      }
    } else {
    // clear for trash string output
    document.getElementById('feedbackBox').innerHTML = "";
    }
    
    var cps = new Set(), hps = new Set();
    var maxCP = 0, maxHP = 0;

    // generate all the cps and hps for matching
    // for ranks 1 to user limit, up to maxLvl (L) for league
    for (var i=0; ((i<rLength) && (i<limit)); i++) {
      
      // start at maxLvl (up to league limit)
      var maxLvl = (ranks[rKeys[i]].L - 1)*2;
      // see if this is a half-level (these don't spawn in the wild)
      if (maxLvl%2 != 0)
      {
        // ensure we build search string only on "full" levels
        maxLvl = maxLvl - 1; // set to non-half level
      }

      // skip half level CPs in search strings to improve accuracy
      for( var level = maxLvl; level >= 0; level = level - 2 ) {
        var cp = Math.max(10, Math.floor((baseatk/1 + ranks[rKeys[i]].IVs.A) * Math.sqrt(basedef/1 + ranks[rKeys[i]].IVs.D) * Math.sqrt(basesta/1 + ranks[rKeys[i]].IVs.S) * cpm[level] * cpm[level] / 10));

        // generate hps for more accurate search string matching
        var hp = Math.max(10, Math.floor((basesta/1 + ranks[rKeys[i]].IVs.S) * cpm[level]));
        

        // update counters for maxCP0 and maxHP0
        if (maxCP < cp) {maxCP = cp};
        if (maxHP < hp) {maxHP = hp};
        cps.add(cp);
        hps.add(hp);
      }
    }

    // if we are trashing but skipping hundos
    if ((trash) && (!hundo)) {
      output.value = '!4*&';
    } else {
      // ensure old output is cleared!
      output.value = '';
    }
    
    // output the CPs and HPs
    outputCPsHPs(firstStarVal, singleStar, cps, maxCP, hps, maxHP, output, id, cpstr, hpstr, trash, hptrash);
    
    if ((!trash) && (singleStar !== true)) {
      // help narrow down search accuracy
      if (no0star) { output.value += '&!0*'; }
      if (no1star) { output.value += '&!1*'; }
      if (no2star) { output.value += '&!2*'; }
      if (no3star) { output.value += '&!3*'; }
      if (no4star) { output.value += '&!4*'; }
    }
    return output;
  }
  
  function outputCPsHPs(starVal, singleStar, cps, maxCP, hps, maxHP, output, id, cpstr, hpstr, trash, hptrash) {
    //console.log("Flipping cps and hps with maxCP("+maxCP+") and maxHP("+maxHP+")");
    
    if (trash) {
      
      // flip CPs and HPs for trashing
      for (var i=10; i<=maxCP; i++) {
        if( cps.has(i) ) {
  				cps.delete(i);
  			} else {
  				cps.add(i);
  		  }
      }
      
      for (var i=10; i<=maxHP; i++) {
        if( hps.has(i) ) {
  				hps.delete(i);
  			} else {
  				hps.add(i);
  		  }
      }
      
      // output CPs and HPs
      cps = Array.from(cps);
      cps.sort((a, b) => a - b);
      //console.log("cps after invert:"+JSON.stringify(cps));
      output.value += id + '&' + get_matching_string(cps, cpstr);
      
      if (hptrash) {
        hps = Array.from(hps);
        hps.sort((a, b) => a - b);
        output.value += ',' + get_matching_string(hps, hpstr);
        //console.log("hps after invert:"+JSON.stringify(hps));
        }
    } else {
      // output CPs and HPs
      cps = Array.from(cps);
      cps.sort((a, b) => a - b);
      //console.log("cps after invert:"+JSON.stringify(cps));
      if (singleStar === true) {
        output.value += id + '&' + starVal + '&' + get_matching_string(cps, cpstr);
      } else {
        output.value += id + '&' + get_matching_string(cps, cpstr);
      }
      
      hps = Array.from(hps);
      hps.sort((a, b) => a - b);
      output.value += '&' + get_matching_string(hps, hpstr);
      //console.log("hps generated:"+JSON.stringify(hps));
    }
    return true;
  }
  
  function get_matching_string(a, t) {
    var list = '', last = -1;
  	for( var i = 0; i < a.length; i++ ) {
  		if( a[i] == last + 1 ) {
  			list += '-';
  			last = a[i];
  			while( ++i < a.length ) {
  				if( a[i] != last + 1 ) break;
  				last = a[i];
  			}
  			if( a[--i] < 9999 ) {
  				list += a[i];
  			}
  		} else {
  			list += ',' + t + a[i];
  			last = a[i];
  		}
  	}

  	return list.substr(1);
  }
  
  function autocopy(e) {
  	e.select();
  	document.execCommand('copy');
  }
  </script>
<label>
	Top # Ranks:
	<input type="number" value="10" id="limit" min="1" max="4096" onchange="start()">
</label>
<label>
	Leauge:
	<select id="league" onchange="start()">
		<option value="1500">Great League</option>
		<option value="2500">Ultra League</option>
		<option value="5000">Master League</option>
	</select>
</label>
<label>
	Trash String:
	<input id="trash" type="checkbox" onchange="start()">
</label>
<section><h3>Settings:</h3>
<label>
	Trash Perfect IVs:
	<input id="hundo" type="checkbox" checked onchange="start()">
</label><br />
<label>
	Include HPs in Trash String:
	<input id="hptrash" type="checkbox" checked onchange="start()">
</label><br />
<label>
	Use Base Evolution:
	<input id="base" type="checkbox" checked onchange="start()">
</label><br />
<label>
	Use Baby Form:
	<input id="baby" type="checkbox" onchange="start()">
</label><br />
<label>
	Language:
	<select id="lang" onchange="start()">
		<option value="en,cp,hp">English</option>
		<option value="ja,cp,hp">Japanese</option>
		<option value="fr,pc,pv">French</option>
		<option value="es,pc,puntos de salud">Spanish</option>
		<option value="de,wp,kp">German</option>
		<option value="il,pl,punti salute">Italian</option>
		<option value="ko,cp,hp">Korean</option>
		<option value="zh,cp,hp">Chinese</option>
		<option value="pt,pc,ps">Portuguese</option>
	</select>
</label>
</section>
</body>
</html>