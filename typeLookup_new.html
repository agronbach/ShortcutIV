<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* floating footer fix from: https://stackoverflow.com/questions/13881548/sticky-footer-hiding-content */
      html,
body {
  margin:0;
  padding:0;
  height:100%;
  font-family: Verdana, Geneva, sans-serif;
}
#container {
   min-height:100%;
   position:relative;
}

#body {
   /*padding:10px;*/
   padding-bottom:50px;   /* Height of the footer */
}
#footer {
  position:absolute;
  bottom:0;
  text-align: center;
  vertical-align: middle;
  width:100%;
  height:48px;   /* Height of the footer */
  background:#C0C0C0;
}
  
.button {
  background-color: #006400;
  border-radius: 25px;
  border: 0.1em solid #006400;
  color: white;
  padding: 0.2em 0.3em;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 0.7em;
  margin: 0.3em 0.2em;
  cursor: pointer;
}

p {
  display: block;
  text-align: center;
  margin-top: 0.5em;
  margin-bottom: 0em;
  margin-left: 0;
  margin-right: 0;
}
  
img {
  vertical-align: middle;
  margin-left: 0;
  margin-right: 0;
}
  
.grecaptcha-badge {
visibility: hidden;
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 350px;
  table-layout: auto;
  margin-left:auto; 
  margin-right:auto;
}

td, th {
  border: 0px solid #dddddd;
  text-align: center;
  padding: 8px;
}
  
select {
display: block;
margin: 0 auto;
}
  
/* Color reference: http://www.epidemicjohto.com/t882-type-colors-hex-colors */  
.Bug {
    background: #A6B91A;
}
.Dark {
    background: #705746;
}
.Dragon {
    background: #6F35FC;
}
.Electric {
    background: #F7D02C;
}
.Fairy {
    background: #D685AD;
}
.Fighting {
    background: #C22E28;
}
.Fire {
    background: #EE8130;
}
.Flying {
    background: #A98FF3;
}
.Ghost {
    background: #735797;
}
.Grass {
    background: #7AC74C;
}
.Ground {
    background: #E2BF65;
}
.Ice {
    background: #96D9D6;
}
.Normal {
    background: #A8A77A;
}
.Poison {
    background: #A33EA1;
}
.Psychic {
    background: #F95587;
}
.Rock {
    background: #B6A136;
}
.Steel {
    background: #B7B7CE;
}
.Water {
    background: #6390F0;
}

</style>
  <head>
    <script>
      // Force HTTPS if connected via HTTP -- https://stackoverflow.com/questions/4723213/detect-http-or-https-then-force-https-in-javascript
      if (location.protocol != 'https:')
      {
        // get the URL for the HTTPS version of this page
        var newURL = 'https:' + window.location.href.substring(window.location.protocol.length);
        
        // overwrite page to inform the user they are being redirected to HTTPS in case it hangs
        javascript:document.open('text/html');document.write('<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>ShortcutIV - HTTP redirect to HTTPS</title></head><body><p>WARNING: Your connection is using HTTP and is not secure. You are now being redirected to a secure connection over HTTPS.<p><p>To speed up the process, you may <a href="'+newURL+'">click here</a><br><br>Please report this message to us via our discord <a href="https://discord.gg/UD4Temq"><strong>https://discord.gg/UD4Temq</strong></a> and let us know how this happened!</p></body><br><br></html>');document.close();

        // redirect the user to the HTTPS version of the page
        location.href = newURL;
      }
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141600603-1"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141600603-1');
    </script>
    <!--Rest of Head-->
    <title>ShortcutIV - Type Chart</title>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfY-KYUAAAAAIYnP89WU5GWU-MMg_uy0z_7t9c2"></script>
  </head>
  <div id="container">
    <div id="body"><body>
      <select id="type">
        <option value="Bug">Bug</option>
        <option value="Dark">Dark</option>
        <option value="Dragon">Dragon</option>
        <option value="Electric">Electric</option>
        <option value="Fairy">Fairy</option>
        <option value="Fighting">Fighting</option>
        <option value="Fire">Fire</option>
        <option value="Flying">Flying</option>
        <option value="Ghost">Ghost</option>
        <option value="Grass">Grass</option>
        <option value="Ground">Ground</option>
        <option value="Ice">Ice</option>
        <option value="Normal">Normal</option>
        <option value="Poison">Poison</option>
        <option value="Psychic">Psychic</option>
        <option value="Rock">Rock</option>
        <option value="Steel">Steel</option>
        <option value="Water">Water</option>
      </select>
      <select id="type2">
      	<option value="None">None</option>
        <option value="Bug">Bug</option>
        <option value="Dark">Dark</option>
        <option value="Dragon">Dragon</option>
        <option value="Electric">Electric</option>
        <option value="Fairy">Fairy</option>
        <option value="Fighting">Fighting</option>
        <option value="Fire">Fire</option>
        <option value="Flying">Flying</option>
        <option value="Ghost">Ghost</option>
        <option value="Grass">Grass</option>
        <option value="Ground">Ground</option>
        <option value="Ice">Ice</option>
        <option value="Normal">Normal</option>
        <option value="Poison">Poison</option>
        <option value="Psychic">Psychic</option>
        <option value="Rock">Rock</option>
        <option value="Steel">Steel</option>
        <option value="Water">Water</option>
      </select><br /><br />
      <table style="text-align:center" id="resultsContainer"></table>
      <!--Results output here by JQuery-->
      <div style="overflow-x:auto;">
      <table><div id= "box"><br/><br/><br/></div></table>
    </div>
    <p style="color:silver;font-size:0.6em">This site is protected by reCAPTCHA and the Google
    <a style="color:#AED6F1" href="https://policies.google.com/privacy">Privacy Policy</a> and
    <a style="color:#AED6F1" href="https://policies.google.com/terms">Terms of Service</a> apply.</p>
    
    <!-- Footer Code Below -->
    <div id="footer">
      <table align=center cellspacing="0" cellpadding="0">
        <tr><a href="https://routinehub.co/shortcut/1721">iOS ShortcutIV</a> &#124; <a href="https://discord.gg/UD4Temq">Join Us on Discord</a> 
        </tr>
        <br/>
        <tr><a href="https://www.patreon.com/bePatron?u=7793657" data-patreon-widget-type="become-patron-button"><img src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" width=auto height="22"></a> &#124; ShortcutIV Â©2019</tr>
      </table>
    </div>
    <script>
      
      // Array with typings, built from https://imgur.com/PY95xi0
      var types = {"Bug": {"W":["Fire", "Flying", "Rock"],"Wx":["1.6", "1.6", "1.6"],"R":["Fighting", "Ground", "Grass"],"Rx":["0.625", "0.625", "0.625"],"SE":["Dark", "Grass", "Psychic"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Steel", "Poison", "Ghost", "Flying", "Fighting", "Fire", "Fairy"],"NVEx":["0.625", "0.625", "0.625", "0.625", "0.625", "0.625", "0.625"]},"Dark": {"W":["Bug", "Fairy", "Fighting"],"Wx":["1.6", "1.6", "1.6"],"R":["Psychic", "Ghost", "Dark"],"Rx":["0.391", "0.625", "0.625"],"SE":["Ghost", "Psychic"],"SEx":["1.6", "1.6"],"NVE":["Fighting", "Fairy", "Dark"],"NVEx":["0.625", "0.625", "0.625"]},"Dragon": {"W":["Dragon", "Fairy", "Ice"],"Wx":["1.6", "1.6", "1.6"],"R":["Water", "Grass", "Fire", "Electric"],"Rx":["0.625", "0.625", "0.625", "0.625"],"SE":["Dragon"],"SEx":["1.6"],"NVE":["Steel", "Fairy"],"NVEx":["0.625", "0.391"]},"Electric": {"W":["Ground"],"Wx":["1.6"],"R":["Steel", "Flying", "Electric"],"Rx":["0.625", "0.625", "0.625"],"SE":["Flying", "Water"],"SEx":["1.6", "1.6"],"NVE":["Ground", "Grass", "Electric", "Dragon"],"NVEx":["0.391", "0.625", "0.625", "0.625"]},"Fairy": {"W":["Poison", "Steel"],"Wx":["1.6", "1.6"],"R":["Fighting", "Dragon", "Dark", "Bug"],"Rx":["0.625", "0.391", "0.625", "0.625"],"SE":["Dark", "Dragon", "Fighting"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Steel", "Poison", "Fire"],"NVEx":["0.625", "0.625", "0.625"]},"Fighting": {"W":["Fairy", "Flying", "Psychic"],"Wx":["1.6", "1.6", "1.6"],"R":["Rock", "Dark", "Bug"],"Rx":["0.625", "0.625", "0.625"],"SE":["Dark", "Ice", "Normal", "Rock", "Steel"],"SEx":["1.6", "1.6", "1.6", "1.6", "1.6"],"NVE":["Psychic", "Poison", "Ghost", "Flying", "Fairy", "Bug"],"NVEx":["0.625", "0.625", "0.391", "0.625", "0.625", "0.625"]},"Fire": {"W":["Ground", "Rock", "Water"],"Wx":["1.6", "1.6", "1.6"],"R":["Steel", "Ice", "Grass", "Fire", "Fairy", "Bug"],"Rx":["0.625", "0.625", "0.625", "0.625", "0.625", "0.625"],"SE":["Bug", "Grass", "Ice", "Steel"],"SEx":["1.6", "1.6", "1.6", "1.6"],"NVE":["Water", "Rock", "Fire", "Dragon"],"NVEx":["0.625", "0.625", "0.625", "0.625"]},"Flying": {"W":["Electric", "Ice", "Rock"],"Wx":["1.6", "1.6", "1.6"],"R":["Ground", "Grass", "Fighting", "Bug"],"Rx":["0.391", "0.625", "0.625", "0.625"],"SE":["Bug", "Fighting", "Grass"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Steel", "Rock", "Electric"],"NVEx":["0.625", "0.625", "0.625"]},"Ghost": {"W":["Dark", "Ghost"],"Wx":["1.6", "1.6"],"R":["Poison", "Normal", "Fighting", "Bug"],"Rx":["0.625", "0.391", "0.391", "0.625"],"SE":["Ghost", "Psychic"],"SEx":["1.6", "1.6"],"NVE":["Normal", "Dark"],"NVEx":["0.391", "0.625"]},"Grass": {"W":["Bug", "Fire", "Flying", "Ice", "Poison"],"Wx":["1.6", "1.6", "1.6", "1.6", "1.6"],"R":["Water", "Ground", "Grass", "Electric"],"Rx":["0.625", "0.625", "0.625", "0.625"],"SE":["Ground", "Rock", "Water"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Steel", "Poison", "Grass", "Flying", "Fire", "Dragon", "Bug"],"NVEx":["0.625", "0.625", "0.625", "0.625", "0.625", "0.625", "0.625"]},"Ground": {"W":["Grass", "Ice", "Water"],"Wx":["1.6", "1.6", "1.6"],"R":["Rock", "Poison", "Electric"],"Rx":["0.625", "0.625", "0.391"],"SE":["Electric", "Fire", "Poison", "Rock", "Steel"],"SEx":["1.6", "1.6", "1.6", "1.6", "1.6"],"NVE":["Grass", "Flying", "Bug"],"NVEx":["0.625", "0.391", "0.625"]},"Ice": {"W":["Fighting", "Fire", "Rock", "Steel"],"Wx":["1.6", "1.6", "1.6", "1.6"],"R":["Ice"],"Rx":["0.625"],"SE":["Dragon", "Flying", "Grass", "Ground"],"SEx":["1.6", "1.6", "1.6", "1.6"],"NVE":["Water", "Steel", "Ice", "Fire"],"NVEx":["0.625", "0.625", "0.625", "0.625"]},"Normal": {"W":["Fighting"],"Wx":["1.6"],"R":["Ghost"],"Rx":["0.391"],"SE":[undefined],"SEx":[undefined],"NVE":["Steel", "Rock", "Ghost"],"NVEx":["0.625", "0.625", "0.391"]},"Poison": {"W":["Ground", "Psychic"],"Wx":["1.6", "1.6"],"R":["Poison", "Grass", "Fighting", "Fairy", "Bug"],"Rx":["0.625", "0.625", "0.625", "0.625", "0.625"],"SE":["Fairy", "Grass"],"SEx":["1.6", "1.6"],"NVE":["Steel", "Rock", "Poison", "Ground", "Ghost"],"NVEx":["0.391", "0.625", "0.625", "0.625", "0.625"]},"Psychic": {"W":["Bug", "Dark", "Ghost"],"Wx":["1.6", "1.6", "1.6"],"R":["Psychic", "Fighting"],"Rx":["0.625", "0.625"],"SE":["Fighting", "Poison"],"SEx":["1.6", "1.6"],"NVE":["Steel", "Psychic", "Dark"],"NVEx":["0.625", "0.625", "0.391"]},"Rock": {"W":["Fighting", "Grass", "Ground", "Steel", "Water"],"Wx":["1.6", "1.6", "1.6", "1.6", "1.6"],"R":["Poison", "Normal", "Flying", "Fire"],"Rx":["0.625", "0.625", "0.625", "0.625"],"SE":["Bug", "Fire", "Flying", "Ice"],"SEx":["1.6", "1.6", "1.6", "1.6"],"NVE":["Steel", "Ground", "Fighting"],"NVEx":["0.625", "0.625", "0.625"]},"Steel": {"W":["Fighting", "Fire", "Ground"],"Wx":["1.6", "1.6", "1.6"],"R":["Steel", "Rock", "Psychic", "Poison", "Normal", "Ice", "Grass", "Flying", "Fairy", "Dragon", "Bug"],"Rx":["0.625", "0.625", "0.625", "0.391", "0.625", "0.625", "0.625", "0.625", "0.625", "0.625", "0.625"],"SE":["Fairy", "Ice", "Rock"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Water", "Steel", "Fire", "Electric"],"NVEx":["0.625", "0.625", "0.625", "0.625"]},"Water": {"W":["Electric", "Grass"],"Wx":["1.6", "1.6"],"R":["Water", "Steel", "Ice", "Fire"],"Rx":["0.625", "0.625", "0.625", "0.625"],"SE":["Fire", "Ground", "Rock"],"SEx":["1.6", "1.6", "1.6"],"NVE":["Water", "Grass", "Dragon"],"NVEx":["0.625", "0.625", "0.625"]}};
      
      //<th>Type1</th><th>-></th><th>mType</th><th>-></th><th>Type2</th>
      
      // Default to loading a table
      $(document).ready(function(){
        collectInputs();
      });
      
      // Change the table shown when the user selects a new type
      $('#type').change(collectInputs);
      $('#type2').change(collectInputs);
      
      function stylizeTable(){
        $("#resultsContainer tr").each(function () {
          $('td', this).each(function () {
            $("td:contains('Bug')").addClass('Bug');
            $("td:contains('Dark')").addClass('Dark');
            $("td:contains('Dragon')").addClass('Dragon');
            $("td:contains('Electric')").addClass('Electric');
            $("td:contains('Fairy')").addClass('Fairy');
            $("td:contains('Fighting')").addClass('Fighting');
            $("td:contains('Fire')").addClass('Fire');
            $("td:contains('Flying')").addClass('Flying');
            $("td:contains('Ghost')").addClass('Ghost');
            $("td:contains('Grass')").addClass('Grass');
            $("td:contains('Ground')").addClass('Ground');
            $("td:contains('Ice')").addClass('Ice');
            $("td:contains('Normal')").addClass('Normal');
            $("td:contains('Poison')").addClass('Poison');
            $("td:contains('Psychic')").addClass('Psychic');
            $("td:contains('Rock')").addClass('Rock');
            $("td:contains('Steel')").addClass('Steel');
            $("td:contains('Water')").addClass('Water');
          })
        })
      };
      
      function collectInputs(){
        $('#resultsContainer').empty();
        var selectedType = $( "#type option:selected" ).text();
        var secondType = $( "#type2 option:selected" ).text();
        if (secondType == "None") {
        	secondType = "";
            document.title = "ShortcutIV - "+selectedType+" Type Chart"
        } else {
        	document.title = "ShortcutIV - "+selectedType+"/"+secondType+" Type Chart"
        }
        //console.log("Second Type selected is :"+secondType);
        
        var type1, type2;
        var prop1, prop2;
        $.each(types, function(typ1, pr1){
          if (typ1 == selectedType){
          		type1 = selectedType;
                prop1 = pr1;
          		//console.log("Found typ1 = "+type1);
          	$.each(types, function(typ2, pr2){
            	if (typ2 == secondType){
                	type2 = typ2;
                    prop2 = pr2;
                	//console.log("Found typ2 = "+type2);
				}
            });
          }
        });
        
        //console.log ("Type1 = "+type1+" and Type2 = "+type2);
        //console.log ("Prop1 = "+JSON.stringify(prop1));
        //console.log ("Prop2 = "+JSON.stringify(prop2));
        
        if ((type2 === undefined) || (type1 == type2)) {
        	outputTable(prop1, type1, "");
        } else {
        	// Need to merge type1 and type2 into one hash
            var merged = "";
            var merged = JSON.parse(JSON.stringify(prop1));
            $.each(prop2,function(i,obj) {
            	$.each(obj,function(k,v) {
					//console.log("Merging k="+k+" v="+v+" i="+i);
                	merged[i][k+(prop1[i].length)] = v;
                });
            });
            //console.log("Merged result:"+JSON.stringify(merged));
            
            // Remove SE/SEx and NVE/NVEx values
            delete merged["SE"];
            delete merged["SEx"];
            delete merged["NVE"];
            delete merged["NVEx"];
            
            // Add null to ensure code doesn't crash
            merged["SE"] = [null];
            merged["SEx"] = [null];
            merged["NVE"] = [null];
            merged["NVEx"] = [null];
            
            //console.log("Merged pre-result:"+JSON.stringify(merged));
            
            // merge duplicate entries in "W" and "Wx"
            for (i=0; i<merged["W"].length; i++) {
            	for (j=i+1; j<merged["W"].length; j++) {
                	if (merged["W"][i] === merged["W"][j]) {
                        //console.log("Matched "+merged['W'][i]+" === "+merged['W'][j]);
                    	merged["Wx"][i] = Math.round(parseFloat((merged["Wx"][i]/1 * merged["Wx"][j]/1) + 0.00001) * 100) / 100;
                        merged["W"].splice(j,1);
                        merged["Wx"].splice(j,1);
                    }
                }
            }
            
            // merge duplicate entries in "R" and "Rx"
            for (i=0; i<merged["R"].length; i++) {
            	for (j=i+1; j<merged["R"].length; j++) {
                	if (merged["R"][i] === merged["R"][j]) {
                        //console.log("Matched "+merged['R'][i]+" === "+merged['R'][j]);
                    	merged["Rx"][i] = Math.round(parseFloat((merged["Rx"][i]/1 * merged["Rx"][j]/1) + 0.00001) * 1000) / 1000;
                        merged["R"].splice(j,1);
                        merged["Rx"].splice(j,1);
                    }
                }
            }
            
            //console.log("With dupes:"+JSON.stringify(merged));
            
            var wLength = parseFloat(merged["W"].length);
            //console.log("Entering loop with wLength="+wLength);
            // merge duplicate entries in "W"/"Wx" with "R"/"Rx"
            for (i=0; i<wLength; i++) {
            	//console.log("Outer loop is now comparing "+merged["W"][i]+" at i="+i);
            	for (j=0; j<merged["R"].length; j++) {
                	//console.log("Inner loop is now comparing "+merged["R"][j]+" at j="+j);
                	if (merged["W"][i] === merged["R"][j]) {
                    	var product = Math.round(parseFloat((merged["Wx"][i]/1 * merged["Rx"][j]/1) + 0.00001) * 1000) / 1000;
                        
                        console.log ("Merged "+merged["W"][i]+" and "+merged["R"][j]+" = "+product);
                        
                        // check the results of the merge
                        if (product/1 > 1) {
                        // This is still a weakness
                        merged["Wx"][i] = product/1;
                        merged["R"].splice(j,1);
                        merged["Rx"].splice(j,1);
                        } else if (product/1 < 1) {
                        // This is still a resistance
                        merged["Rx"][j] = product/1;
                        merged["W"].splice(i,1);
                        merged["Wx"].splice(i,1);
                        i--; // decrement to not skip entries
                        } else {
                        // This cancels out, delete both
                        merged["W"].splice(i,1);
                        merged["Wx"].splice(i,1);
                        merged["R"].splice(j,1);
                        merged["Rx"].splice(j,1);
                        i--; // decrement to not skip entries
                        }
                    }  else { //console.log ("Skipping "+merged["W"][i]+" and "+merged["R"][j]+" at i="+i+", j="+j);}
                    }
              }
              //console.log("Merged dupes-result:"+JSON.stringify(merged));
              
              // Need to alphabetize merged dataset
              
              outputTable(merged, type1, type2);
            }
        }
        
        // Output the table to HTML for viewing
        function outputTable(prop, type1, type2){
            var topRow = Math.max(prop["W"].length, prop["SE"].length);
            var bottomRow = Math.max(prop["R"].length, prop["NVE"].length);
            //console.log("Found topRow:"+topRow+" bottomRow:"+bottomRow);
            //console.log("prop = "+JSON.stringify(prop));
        
            // Output first row for selectedType
            var Weak = prop["W"][0];
            var xWeak = prop["Wx"][0];
            var SuperEff = prop["SE"][0];
            var xSuperEff = prop["SEx"][0];
        
        	if (type2 === undefined) {
            if (Weak && SuperEff) {
              $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td style="vertical-align:middle" rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
            } else if (Weak === undefined) {
              $("#resultsContainer").append('<tr><td> </td><td> </td><td rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
            } else {
              $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td> </td><td> </td></tr>');
            }} else {
            if (Weak && SuperEff) {
              $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td style="vertical-align:middle" rowspan='+(topRow+bottomRow+1)+'>'+type2+'</td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
            } else if (Weak === undefined) {
              $("#resultsContainer").append('<tr><td> </td><td> </td><td rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td rowspan='+(topRow+bottomRow+1)+'>'+type2+'</td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
            } else {
              $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td rowspan='+(topRow+bottomRow+1)+'>'+type1+'</td><td rowspan='+(topRow+bottomRow+1)+'>'+type2+'</td><td> </td><td> </td></tr>');
            }
            }
        
            // Output top half of the chart, skipping null entries
            for (i=1; i<topRow; i++){
              var Weak = prop["W"][i];
              var xWeak = prop["Wx"][i];
              var SuperEff = prop["SE"][i];
              var xSuperEff = prop["SEx"][i];
        
              if (Weak && SuperEff) {
                $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
              } else if (Weak === undefined) {
                $("#resultsContainer").append('<tr><td> </td><td> </td><td style="color:green">x'+xSuperEff+'</td><td>'+SuperEff+'</td></tr>');
              } else {
                $("#resultsContainer").append('<tr><td>'+Weak+'</td><td style="color:green">x'+xWeak+'</td><td> </td><td> </td></tr>');
              }
            }
        
            // Output blank center row for padding
            $("#resultsContainer").append('<tr><td> </td><td> </td><td> </td><td> </td></tr>');
        
            // Output bottom half of the chart skipping null entries
            for (i=bottomRow-1; i>=0; i--){
              var Resist = prop["R"][i];
              var xResist = prop["Rx"][i];
              var NotVeryEff = prop["NVE"][i];
              var xNotVeryEff = prop["NVEx"][i];
        
              if (Resist && NotVeryEff) {
                $("#resultsContainer").append('<tr><td>'+Resist+'</td><td style="color:red">x'+xResist+'</td><td style="color:red">x'+xNotVeryEff+'</td><td>'+NotVeryEff+'</td></tr>');
              } else if (Resist === undefined) {
                $("#resultsContainer").append('<tr><td> </td><td> </td><td style="color:red">x'+xNotVeryEff+'</td><td>'+NotVeryEff+'</td></tr>');
              } else {
                $("#resultsContainer").append('<tr><td>'+Resist+'</td><td style="color:red">x'+xResist+'</td><td> </td><td> </td></tr>');
              }
            }
            
            //$.each(prop, function(k, v){
              //console.log("Found k="+k);
              //console.log("Found "+v.length+" v="+v);
              //$("#resultsContainer").append('<p>'+k+'='+v+'<p>');
          //});
          stylizeTable();
      }
      </script>
      </body>
    </div>
  </div>
</html>